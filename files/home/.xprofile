#!/bin/bash
exec 1>/tmp/xprofile.log 2>&1
export PATH="/bin:/usr/bin:/usr/local/bin:/home/$USER/bin:/home/$USER/.pkgs/bin"

# background image
test -d ~/.wallpapers || mkdir ~/.wallpapers
export WALLPAPER=~/.wallpapers/abstract-d.png
if [[ ! -f $WALLPAPER ]]; then
	curl https://gitlab.manjaro.org/artwork/wallpapers/manjaro-wallpapers/-/raw/master/Abstract%20Dark/image.png --output $WALLPAPER
fi
feh --bg-fill $WALLPAPER

# TODO:
# - control session (xgm/lxsession)
# - control dbus launch (exec dbus-run-session dwm)
# - pipewire (pipewire &, pipewire-pulse &)

slstatus & disown                      # statusbar

dunst -print >>/tmp/dunst.log & disown # notification daemon
udiskie & disown                       # automount disks

# applets
pa-applet & disown              # pulseaudio volume applet
nm-applet & disown              # networkmanager applet
blueman-applet & disown         # bluetooth applet

redshift -l 41.157944:-8.629105 -g 0.75 & disown
# tasker-go >/tmp/tasker.log 2>&1 & disown

# picom -b & disown

/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 & disown
