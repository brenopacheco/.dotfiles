#!/usr/bin/bash

FIFO_FILE=/tmp/dwm-msg.fifo

rm -f $FIFO_FILE

mkfifo $FIFO_FILE
dwm-msg --ignore-reply subscribe \
	tag_change_event \
	layout_change_event \
	client_focus_change_event \
	monitor_focus_change_event \
	focused_title_change_event \
	focused_state_change_event >$FIFO_FILE &

cat $FIFO_FILE | jq --unbuffered -c '.[]'

# cat $FIFO_FILE | jq --unbuffered -c '.[]' | while read -r line; do
# 	echo "- $line"
# done
